{"version":3,"sources":["abi sync /^/.//.*/.json$","utils.tsx","pages/vesting_page.tsx","lib/utilities.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","numberWithCommas","n","parts","toString","split","replace","loadContract","filename","address","abi","require","web3","Web3","givenProvider","eth","Contract","configureBSC","a","detectEthereumProvider","mustBeMetaMask","provider","console","log","request","method","activeChain","process","REACT_APP_ACTIVE_CHAIN","params","chainId","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","error","on","window","location","reload","REACT_APP_SUPPLY_PRIVATE","REACT_APP_SUPPLY_STRATEGIC","REACT_APP_TOTAL_VESTING","REACT_APP_TOTAL_DAILY","REACT_APP_TOTAL_BANTER","i","VestingPage","props","contract","useState","startTime","setStartTime","totalReleased","setTotalReleased","totalAvailable","setTotalAvailable","showData","setShowData","duration","setDuration","isError","setIsError","start","methods","call","getDuration","from","userDuration","getTotalReleased","parseFloat","utils","fromWei","toFixed","getAvailableAmount","balances","useEffect","setInterval","claim","withdraw","send","response","status","className","Date","Number","toLocaleString","onClick","ellipseAddress","width","slice","web3Modal","Web3Modal","network","cacheProvider","providerOptions","initialState","web3Provider","reducer","state","action","type","App","useReducer","dispatch","vestingContract","setVestingContract","vesting","connect","useCallback","providers","Web3Provider","signer","getSigner","getAddress","getNetwork","disconnect","clearCachedProvider","cachedProvider","handleAccountsChanged","accounts","handleChainChanged","_hexChainId","handleDisconnect","removeListener","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.790a1300.chunk.js","sourcesContent":["var map = {\n\t\"./MscpToken.json\": 601,\n\t\"./MscpVesting.json\": 602,\n\t\"./MscpVesting30M.json\": 603,\n\t\"./MscpVesting5M.json\": 604,\n\t\"./TeamVesting.json\": 605\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 600;","import Web3 from \"web3\";\nimport detectEthereumProvider from '@metamask/detect-provider';\n\nexport function numberWithCommas(n: number) {\n    var parts = n.toString().split(\".\");\n    return parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") + (parts[1] ? \".\" + parts[1] : \"\");\n}\n\nexport const loadContract = async (filename: string, address: string) => {\n    const abi = require(`./abi/${filename}.json`);\n    const web3 = new Web3(Web3.givenProvider);\n    return new web3.eth.Contract(abi, address);\n}\n\nexport const configureMoonbaseAlpha = async () => {\n    const provider = await detectEthereumProvider({ mustBeMetaMask: true }) as any;\n    if (provider) {\n        console.log(provider, 'provider');\n        try {\n            await provider.request({ method: \"eth_requestAccounts\" });\n            const activeChain = process.env.REACT_APP_ACTIVE_CHAIN as string;\n            console.log(typeof activeChain, 'activeChain');\n            switch (activeChain) {\n                case '4':\n                    console.log('change to rinkeby')\n                    await provider.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [{ chainId: \"0x4\" }]\n                    });\n                    break;\n                case '1287':\n                    await provider.request({\n                        method: \"wallet_addEthereumChain\",\n                        params: [\n                            {\n                                chainId: \"0x507\",\n                                chainName: \"Moonbase Alpha\",\n                                nativeCurrency: {\n                                    name: 'DEV',\n                                    symbol: 'DEV',\n                                    decimals: 18\n                                },\n                                rpcUrls: [\"https://rpc.testnet.moonbeam.network\"],\n                                blockExplorerUrls: [\"https://moonbase-blockscout.testnet.moonbeam.network/\"]\n                            },\n                        ]\n                    })\n                    await provider.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [{ chainId: \"0x507\" }]\n                    });\n                    break;\n                case '1285':\n                    await provider.request({\n                        method: \"wallet_addEthereumChain\",\n                        params: [\n                            {\n                                chainId: \"0x505\",\n                                chainName: \"Moonriver\",\n                                nativeCurrency: {\n                                    name: 'MOVR',\n                                    symbol: 'MOVR',\n                                    decimals: 18\n                                },\n                                rpcUrls: [\"https://rpc.moonriver.moonbeam.network\"],\n                                blockExplorerUrls: [\"https://blockscout.moonriver.moonbeam.network/\"]\n                            },\n                        ]\n                    })\n                    await provider.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [{ chainId: \"0x505\" }]\n                    });\n                    break;\n\n                default:\n                    break;\n            }\n        } catch (e) {\n            console.error(e);\n        }\n\n        provider.on(\"chainChanged\", () => {\n            window.location.reload()\n        })\n    } else {\n        console.error(\"Please install MetaMask\");\n    }\n}\n\nexport const configureBSC = async () => {\n    const provider = await detectEthereumProvider({ mustBeMetaMask: true }) as any;\n    if (provider) {\n        console.log(provider, 'provider');\n        try {\n            await provider.request({ method: \"eth_requestAccounts\" });\n            const activeChain = process.env.REACT_APP_ACTIVE_CHAIN as string;\n            console.log(typeof activeChain, 'activeChain');\n            switch (activeChain) {\n                case '97':\n                    await provider.request({\n                        method: \"wallet_addEthereumChain\",\n                        params: [\n                            {\n                                chainId: \"0x61\",\n                                chainName: \"Binance Smart Chain Testnet\",\n                                nativeCurrency: {\n                                    name: 'BNB',\n                                    symbol: 'BNB',\n                                    decimals: 18\n                                },\n                                rpcUrls: [\"https://data-seed-prebsc-1-s1.binance.org:8545\"],\n                            },\n                        ]\n                    })\n                    await provider.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [{ chainId: \"0x61\" }]\n                    });\n                    break;\n                case '56':\n                    await provider.request({\n                        method: \"wallet_addEthereumChain\",\n                        params: [\n                            {\n                                chainId: \"0x38\",\n                                chainName: \"Binance Smart Chain\",\n                                nativeCurrency: {\n                                    name: 'BNB',\n                                    symbol: 'BNB',\n                                    decimals: 18\n                                },\n                                rpcUrls: [\"https://bsc-dataseed.binance.org\t\"],\n                            },\n                        ]\n                    })\n                    await provider.request({\n                        method: \"wallet_switchEthereumChain\",\n                        params: [{ chainId: \"0x38\" }]\n                    });\n                    break;\n\n                default:\n                    break;\n            }\n        } catch (e) {\n            console.error(e);\n        }\n\n        provider.on(\"chainChanged\", () => {\n            window.location.reload()\n        })\n    } else {\n        console.error(\"Please install MetaMask\");\n    }\n}\n\nexport const renderer = ({ years, days, hours, minutes, seconds, completed }: any) => {\n    return <span>{years}y {days}d {hours}h {minutes}m {seconds}s</span>;\n};\n\nexport const REACT_APP_DURATION = process.env.REACT_APP_DURATION as string; //150 days\nexport const SUPPLY_PRIVATE = process.env.REACT_APP_SUPPLY_PRIVATE as string;\nexport const SUPPLY_STRATEGIC = process.env.REACT_APP_SUPPLY_STRATEGIC as string;\n\nexport const BONUS_PRIVATE = 1500000;\nexport const BONUS_STRATEGIC = 2000000;\n\nexport const TOTAL_VESTING = process.env.REACT_APP_TOTAL_VESTING as string;\nexport const TOTAL_DAILY = process.env.REACT_APP_TOTAL_DAILY as string;\nexport const TOTAL_BANTER = process.env.REACT_APP_TOTAL_BANTER as string;\n","import { useEffect, useState } from \"react\"\nimport Countdown from \"react-countdown\";\nimport Web3 from \"web3\";\nimport { REACT_APP_DURATION, numberWithCommas, renderer, TOTAL_VESTING } from \"../utils\"\n\nconst VestingPage = (props: any) => {\n  const { address, contract } = props;\n  const [startTime, setStartTime] = useState<any>(0);\n  const [totalReleased, setTotalReleased] = useState<any>(0);\n  const [totalAvailable, setTotalAvailable] = useState<any>(0);\n  const [showData, setShowData] = useState<any>(false);\n  const [duration, setDuration] = useState<any>(0);\n  const [isError, setIsError] = useState<any>(false);\n\n  let start = (async () => {\n    if (contract) {\n      setIsError(false);\n\n      console.log('contract', contract);\n      const startTime = await contract.methods.startTime().call();\n      setStartTime(startTime);\n      if (address) {\n        let userDuration = await contract.methods.getDuration(address).call({ from: address });\n        setDuration(userDuration);\n        console.log(userDuration, 'userDuration')\n\n        if (userDuration === \"0\") {\n          setIsError(true);\n        } else {\n          setIsError(false);\n          let totalReleased = await contract.methods.getTotalReleased(address).call({ from: address });\n          totalReleased = parseFloat(Web3.utils.fromWei(totalReleased, \"ether\")).toFixed(6);\n          // console.log(totalReleased, 'totalReleased');\n          setTotalReleased(totalReleased);\n          let totalAvailable = await contract.methods.getAvailableAmount(address).call({ from: address });\n          totalAvailable = parseFloat(Web3.utils.fromWei(totalAvailable, \"ether\")).toFixed(6);\n          setTotalAvailable(totalAvailable);\n          const balances = await contract.methods.balances(address).call()\n          console.log(balances, 'balances');\n          setShowData(true)\n        }\n\n      } else {\n        setTotalAvailable(0);\n        setTotalReleased(0);\n      }\n    }\n\n  })\n\n  useEffect(() => {\n    start();\n  }, [address, contract])\n\n  // start();\n\n  setInterval(async () => {\n    start();\n  }, 1000 * 60)\n\n\n\n  const claim = async () => {\n    const response = await contract.methods.withdraw().send({ from: address });\n    if (response && response.status === true) {\n      let totalReleased = await contract.methods.getTotalReleased().call({ from: address });\n      totalReleased = parseFloat(Web3.utils.fromWei(totalReleased, \"ether\")).toFixed(6);\n      setTotalReleased(totalReleased);\n\n      let totalAvailable = await contract.methods.getAvailableAmount().call({ from: address });\n      totalAvailable = parseFloat(Web3.utils.fromWei(totalAvailable, \"ether\")).toFixed(6);\n      setTotalAvailable(totalAvailable);\n    }\n  }\n\n  return (\n    <div className=\"popup\">\n      {isError ? <div className=\"error error-text\">You are not eligible for vesting.</div> : <div className=\"popup-inner\">\n        <h1>\n          Team Token Vesting\n        </h1>\n        <div className=\"info-list\" >\n          <div className=\"info-list--item\">\n            <p>\n              Total claimed\n            </p>\n\n            <p className=\"number\">\n              {(!showData) ? '???' : numberWithCommas(totalReleased)} CWS\n            </p>\n          </div>\n\n          <div className=\"info-list--item\">\n            <p>\n              Available to claim\n            </p>\n\n            <p className=\"number\">\n              {(!showData) ? '???' : numberWithCommas(totalAvailable)} CWS\n            </p>\n          </div>\n\n          <div className=\"info-list--item\">\n            <p>\n              Vesting ends on\n            </p>\n\n            <p className=\"number\">\n              {(!showData || !startTime) ? '???' : new Date(startTime * 1000 + Number(duration)).toLocaleString()}\n            </p>\n          </div>\n        </div>\n        <span className=\"spacer\"></span>\n        <button className={`claim-btn ${(address && showData && totalAvailable > 0) ? 'active' : 'inactive'}`} onClick={() => {\n          if (address && totalAvailable > 0) {\n            claim();\n          }\n        }}>\n          Claim\n        </button>\n      </div>}\n    </div>\n  );\n}\nexport default VestingPage;","import supportedChains from './chains'\nimport { IChainData } from './types'\n\nexport function getChainData(chainId?: number): any {\n  if (!chainId) {\n    return null\n  }\n  const chainData = supportedChains.filter(\n    (chain: any) => chain.chain_id === chainId\n  )[0]\n\n  if (!chainData) {\n    throw new Error('ChainId missing or not supported')\n  }\n\n  const API_KEY = '460f40a260564ac4a4f4b3fffb032dad'\n\n  if (\n    chainData.rpc_url.includes('infura.io') &&\n    chainData.rpc_url.includes('%API_KEY%') &&\n    API_KEY\n  ) {\n    const rpcUrl = chainData.rpc_url.replace('%API_KEY%', API_KEY)\n\n    return {\n      ...chainData,\n      rpc_url: rpcUrl,\n    }\n  }\n\n  return chainData\n}\n\nexport function ellipseAddress(address = '', width = 10): string {\n  if (!address) {\n    return ''\n  }\n  return `${address.slice(0, width)}...${address.slice(-width)}`\n}","import React, { useState } from \"react\";\nimport './App.css';\nimport VestingPage from './pages/vesting_page';\nimport { providers } from 'ethers'\nimport { useCallback, useEffect, useReducer } from 'react'\nimport Web3Modal from 'web3modal'\nimport { ellipseAddress } from './lib/utilities'\n\nimport { configureBSC, loadContract } from \"./utils\";\n\nconst providerOptions = {};\nlet web3Modal: any\nif (typeof window !== 'undefined') {\n  web3Modal = new Web3Modal({\n    network: 'mainnet', // optional\n    cacheProvider: true,\n    providerOptions, // required\n  })\n}\n\ntype StateType = {\n  provider?: any\n  web3Provider?: any\n  address?: string\n  chainId?: number\n}\n\ntype ActionType =\n  | {\n    type: 'SET_WEB3_PROVIDER'\n    provider?: StateType['provider']\n    web3Provider?: StateType['web3Provider']\n    address?: StateType['address']\n    chainId?: StateType['chainId']\n  }\n  | {\n    type: 'SET_ADDRESS'\n    address?: StateType['address']\n  }\n  | {\n    type: 'SET_CHAIN_ID'\n    chainId?: StateType['chainId']\n  }\n  | {\n    type: 'RESET_WEB3_PROVIDER'\n  }\n\n\nconst initialState: StateType = {\n  provider: null,\n  web3Provider: null,\n  address: null as any,\n  chainId: null as any,\n}\n\nfunction reducer(state: StateType, action: ActionType): StateType {\n  switch (action.type) {\n    case 'SET_WEB3_PROVIDER':\n      return {\n        ...state,\n        provider: action.provider,\n        web3Provider: action.web3Provider,\n        address: action.address,\n        chainId: action.chainId,\n      }\n    case 'SET_ADDRESS':\n      return {\n        ...state,\n        address: action.address,\n      }\n    case 'SET_CHAIN_ID':\n      return {\n        ...state,\n        chainId: action.chainId,\n      }\n    case 'RESET_WEB3_PROVIDER':\n      return initialState\n    default:\n      throw new Error()\n  }\n}\n\n\n/// web 3 end\n\nconst App = () => {\n\n  const [state, dispatch] = useReducer(reducer, initialState)\n  const { provider, address } = state;\n  const [vestingContract, setVestingContract] = useState<any>(null);\n\n  // \n\n  useEffect(() => {\n    (async () => {\n      configureBSC();\n      const vesting = await loadContract(\"TeamVesting\", process.env.REACT_APP_VESTING_ADDRESS as string);\n      (window as any).vesting = vesting;\n      setVestingContract(vesting);\n    })()\n  }, [])\n\n  const connect = useCallback(async function () {\n    const provider = await web3Modal.connect()\n    const web3Provider = new providers.Web3Provider(provider)\n\n    const signer = web3Provider.getSigner()\n    const address = await signer.getAddress()\n\n    const network = await web3Provider.getNetwork()\n\n\n\n\n\n    dispatch({\n      type: 'SET_WEB3_PROVIDER',\n      provider,\n      web3Provider,\n      address,\n      chainId: network.chainId,\n    })\n  }, [])\n\n\n  const disconnect = useCallback(\n    async function () {\n      await web3Modal.clearCachedProvider()\n      if (provider?.disconnect && typeof provider.disconnect === 'function') {\n        await provider.disconnect()\n      }\n      dispatch({\n        type: 'RESET_WEB3_PROVIDER',\n      })\n    },\n    [provider]\n  )\n\n  useEffect(() => {\n    if (web3Modal.cachedProvider) {\n      connect()\n    }\n  }, [connect])\n\n\n  useEffect(() => {\n    if (provider?.on) {\n      const handleAccountsChanged = (accounts: string[]) => {\n        console.log('accountsChanged', accounts)\n        dispatch({\n          type: 'SET_ADDRESS',\n          address: accounts[0],\n        })\n      }\n\n      const handleChainChanged = (_hexChainId: string) => {\n        window.location.reload()\n      }\n\n      const handleDisconnect = (error: { code: number; message: string }) => {\n        console.log('disconnect', error)\n        disconnect()\n      }\n\n      provider.on('accountsChanged', handleAccountsChanged)\n      provider.on('chainChanged', handleChainChanged)\n      provider.on('disconnect', handleDisconnect)\n\n      return () => {\n        if (provider.removeListener) {\n          provider.removeListener('accountsChanged', handleAccountsChanged)\n          provider.removeListener('chainChanged', handleChainChanged)\n          provider.removeListener('disconnect', handleDisconnect)\n        }\n      }\n    }\n  }, [provider, disconnect])\n\n  return (\n    <div>\n      <header>\n        <div className=\"wallet-section\">\n          {!address && <button\n            className=\"connect-btn\" id=\"btn-connect\"\n            onClick={async () => {\n              console.log('cicked');\n              connect();\n            }}\n          >\n            Connect wallet\n          </button>}\n\n          {address && <div>\n            <p>\n              {ellipseAddress(address)}\n            </p> <button\n              className=\"connect-btn\" id=\"btn-connect\"\n              onClick={async () => {\n                console.log('cicked');\n                disconnect();\n              }}\n            >\n              Disconnect\n            </button>\n          </div>}\n        </div>\n      </header>\n      <VestingPage address={address} contract={vestingContract} />\n    </div>\n  );\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Web3ReactProvider, UnsupportedChainIdError } from '@web3-react/core'\nimport {\n  NoEthereumProviderError,\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\n} from '@web3-react/injected-connector'\nimport { UserRejectedRequestError as UserRejectedRequestErrorWalletConnect } from '@web3-react/walletconnect-connector'\nimport { UserRejectedRequestError as UserRejectedRequestErrorFrame } from '@web3-react/frame-connector'\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    {/* <Web3ReactProvider getLibrary={getLibrary}> */}\n    {/* <HashRouter> */}\n    <App />\n    {/* </HashRouter> */}\n    {/* </Web3ReactProvider> */}\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}